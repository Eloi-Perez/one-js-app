function getSearch(){let e=document.querySelector("#site-search").value;errorDiv.innerText="",pokemonRepository.find(e)}const capitalize=e=>"string"!=typeof e?"":e.charAt(0).toUpperCase()+e.slice(1);let errorDiv=document.querySelector("#error"),pokemonRepository=(()=>{function e(){c.appendChild(m)}function t(){c.hasChildNodes()&&c.removeChild(m)}function n(){return p}function o(e){"object"==typeof e&&"name"in e?p.push(e):console.error("%cpokemonRepository.add() can only add Objects that contains the properties: name%c, height and type.","color:white;","color:grey; text-decoration: line-through;")}function i(){return e(),fetch(u).then(e=>e.json()).then(e=>{e.results.forEach(e=>{let t={name:e.name,detailsUrl:e.url};o(t)}),t()}).catch(e=>{console.error(e),t()})}function l(n){e();let o=n.detailsUrl;return fetch(o).then(e=>e.json()).then(e=>{n.imageUrl=e.sprites.front_default,n.height=e.height,n.weight=e.weight,n.types=e.types,t()}).catch(e=>{console.error(e),t()})}function d(e){let t=document.querySelector(".pokemon-list"),n=document.createElement("li");n.classList.add("col-lg-3","col-md-4");let o=document.createElement("button");o.innerText=capitalize(e.name),o.classList.add("pokemonButton","p-2"),o.setAttribute("data-bs-toggle","modal"),o.setAttribute("data-bs-target","#mainModal"),o.addEventListener("click",()=>{r(e)}),n.appendChild(o),t.appendChild(n)}function a(e,t,n,o,...i){function l(e){v=e.clientX}function d(e){L=e.clientX}function a(){void 0!==n&&L<v&&r(n),void 0!==o&&L>v&&r(o)}h.innerHTML="";let s=document.createElement("div"),c=document.createElement("div");c.classList.add("modal-header");let m=document.createElement("h1");m.classList.add("modal-title"),m.innerText=e,c.appendChild(m);let p=document.createElement("button");p.classList.add("btn-close"),p.setAttribute("type","button"),p.setAttribute("data-bs-dismiss","modal"),p.setAttribute("aria-label","Close"),c.appendChild(p),s.appendChild(c),bodyElement=document.createElement("div"),bodyElement.classList.add("modal-body","container-fluid");let u=document.createElement("div");u.classList.add("row");let f=document.createElement("div");f.classList.add("col-6");let y=document.createElement("img");y.setAttribute("src",t),y.setAttribute("width","192px"),y.setAttribute("height","192px"),y.classList.add("modal-img"),f.appendChild(y),u.appendChild(f);let E=document.createElement("div");E.classList.add("col-6","align-self-center");let b,g,v,L,C=document.createElement("ul");C.classList.add("modal-list"),i.map(e=>{let t=document.createElement("li");t.innerText=e,C.appendChild(t)}),E.appendChild(C),u.appendChild(E),bodyElement.appendChild(u),s.appendChild(bodyElement),footerElement=document.createElement("div"),footerElement.classList.add("modal-footer"),void 0!==n&&(b=document.createElement("button"),b.classList.add("btn","btn-secondary"),b.setAttribute("type","button"),b.innerText="Previous",b.addEventListener("click",()=>{r(n)}),footerElement.appendChild(b)),void 0!==o&&(g=document.createElement("button"),g.classList.add("btn","btn-primary"),g.setAttribute("type","button"),g.innerText="Next",g.addEventListener("click",()=>{r(o)}),footerElement.appendChild(g)),s.appendChild(footerElement),h.appendChild(s),window.PointerEvent&&(s.addEventListener("pointerdown",l,!0),s.addEventListener("pointermove",d,!0),s.addEventListener("pointerup",a,!0),s.addEventListener("pointercancel",a,!0))}function r(e){l(e).then(()=>{let t=p[p.indexOf(e)-1],n=p[p.indexOf(e)+1],o="#"+(p.indexOf(e)+1),i="Height: "+e.height+"m",l="Weight: "+e.weight+"Kg",d=[];e.types.map(e=>{d.push(capitalize(e.type.name))});let r="Types: "+d.join(", ");a(capitalize(e.name),e.imageUrl,t,n,o,i,l,r)})}function s(e){let t=Number(e);if(!1===isNaN(t)){if(!(t>=1&&t<=151))return errorDiv.innerText="This list only contains Pokemons 1-151",console.warn("This list only contains Pokemons 1-151");{let e=p[t-1];myModal.show(),r(e)}}else{let t=p.findIndex(t=>t.name===e.toLowerCase());if(-1===t)return errorDiv.innerText="This Pokemon is not in the list, check spelling please.",console.warn("This Pokemon is not in the list, check spelling please.");{let e=p[t];myModal.show(),r(e)}}}let c=document.querySelector("#loading"),m=document.createElement("p");m.innerText="Loading...";let p=[],u="https://pokeapi.co/api/v2/pokemon/?limit=151",h=document.querySelector(".modal-content");return{add:o,find:s,getAll:n,addListItem:d,showDetails:r,loadList:i,loadDetails:l}})();pokemonRepository.loadList().then(()=>{pokemonRepository.getAll().map(e=>{pokemonRepository.addListItem(e)})});let myModal=new bootstrap.Modal(document.querySelector("#mainModal"),{});document.querySelector("#searchButton").addEventListener("click",e=>{e.preventDefault(),getSearch()});